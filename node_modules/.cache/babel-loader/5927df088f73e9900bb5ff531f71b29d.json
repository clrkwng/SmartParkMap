{"ast":null,"code":"import _assertThisInitialized from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _slicedToArray from \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wei\\\\Desktop\\\\SmartParkWebApp\\\\SmartParkMap\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { withGoogleMap, withScriptjs, GoogleMap, Marker, InfoWindow } from \"react-google-maps\";\nimport * as parkData from \"./data/parking_meters.json\";\nimport mapStyles from \"./mapStyles\";\nimport Geocode from \"react-geocode\";\nvar API_KEY = 'AIzaSyCcq9sfKruEgeckm_yRwLmBdkOFCSQ3SLA';\nGeocode.setApiKey(API_KEY);\n\nfunction Map() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedPark = _useState2[0],\n      setSelectedPark = _useState2[1];\n\n  useEffect(function () {\n    var listener = function listener(e) {\n      if (e.key === \"Escape\") {\n        setSelectedPark(null);\n      }\n    };\n\n    window.addEventListener(\"keydown\", listener);\n    return function () {\n      window.removeEventListener(\"keydown\", listener);\n    };\n  }, []);\n  return React.createElement(GoogleMap, {\n    defaultZoom: 10,\n    defaultCenter: {\n      lat: 39.961178,\n      lng: -82.998795\n    },\n    defaultOptions: {\n      styles: mapStyles\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, parkData.features.map(function (park) {\n    return React.createElement(Marker, {\n      key: park.meter_number,\n      position: {\n        lat: park.lat,\n        lng: park.long\n      },\n      onClick: function onClick() {\n        setSelectedPark(park);\n      },\n      icon: {\n        url: \"/parking_meter.svg\",\n        scaledSize: new window.google.maps.Size(40, 40)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    });\n  }), selectedPark && React.createElement(InfoWindow, {\n    onCloseClick: function onCloseClick() {\n      setSelectedPark(null);\n    },\n    position: {\n      lat: selectedPark.geometry.coordinates[1],\n      lng: selectedPark.geometry.coordinates[0]\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, selectedPark.properties.NAME), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, selectedPark.properties.DESCRIPTIO))));\n}\n\nvar MapWrapped = withScriptjs(withGoogleMap(Map));\nexport default function MapDisplay() {\n  return React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"80vw\",\n      height: \"80vh\",\n      display: \"inline-block\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(MapWrapped, {\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=\".concat(API_KEY) //   ${process.env.REACT_APP_GOOGLE_KEY}\n    // `}\n    ,\n    loadingElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }),\n    containerElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }),\n    mapElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    style: {\n      fontSize: \"xx-large\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Honda SmartPark\"));\n}\nvar radius = 6;\nexport var SearchPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SearchPage, _React$Component);\n\n  function SearchPage(props) {\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchPage).call(this, props));\n    _this.state = {\n      results: []\n    };\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"findResults\",\n    value: function findResults(address) {\n      coordinates = Geocode.fromAddress(address).then(function (response) {\n        var _response$results$0$g = response.results[0].geometry.location,\n            lat = _response$results$0$g.lat,\n            lng = _response$results$0$g.lng;\n        return {\n          lat: lat,\n          lng: lng\n        };\n      }, function (error) {\n        console.error(error);\n      });\n      var results = parkData.features.filter(function (park) {\n        return Math.pow(park.lat - lat, 2) + Math.pow(park.long - lng, 2) < Math.pow(radius, 2);\n      });\n      this.state.results = results;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(TitleBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(MapDisplay, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SearchPage;\n}(React.Component);\n\nvar TitleBar =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(TitleBar, _React$Component2);\n\n  function TitleBar() {\n    _classCallCheck(this, TitleBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TitleBar).apply(this, arguments));\n  }\n\n  _createClass(TitleBar, [{\n    key: \"render\",\n    value: function render() {\n      var title = \"Honda Smart Park\";\n      return React.createElement(\"div\", {\n        className: \"titleBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return TitleBar;\n}(React.Component);\n\nvar SearchBar =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(SearchBar, _React$Component3);\n\n  function SearchBar(props) {\n    var _this2;\n\n    _classCallCheck(this, SearchBar);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(SearchBar).call(this, props));\n    _this2.state = {\n      value: '',\n      prevValue: ''\n    };\n    _this2.handleChange = _this2.handleChange.bind(_assertThisInitialized(_this2));\n    _this2.handleSubmit = _this2.handleSubmit.bind(_assertThisInitialized(_this2));\n    _this2.onSubmit = _this2.props.findResults;\n    return _this2;\n  }\n\n  _createClass(SearchBar, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      if (this.state.prevValue != this.state.value) {\n        this.onSubmit(this.state.value);\n        this.state.prevValue = this.state.value;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.value,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SearchBar;\n}(React.Component);\n\nvar TimeBar =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(TimeBar, _React$Component4);\n\n  function TimeBar() {\n    _classCallCheck(this, TimeBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TimeBar).apply(this, arguments));\n  }\n\n  return TimeBar;\n}(React.Component);\n\nvar Menu =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(Menu, _React$Component5);\n\n  function Menu() {\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments));\n  }\n\n  _createClass(Menu, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Menu\");\n    }\n  }]);\n\n  return Menu;\n}(React.Component);","map":{"version":3,"sources":["C:/Users/Wei/Desktop/SmartParkWebApp/SmartParkMap/src/App.js"],"names":["React","useState","useEffect","withGoogleMap","withScriptjs","GoogleMap","Marker","InfoWindow","parkData","mapStyles","Geocode","API_KEY","setApiKey","Map","selectedPark","setSelectedPark","listener","e","key","window","addEventListener","removeEventListener","lat","lng","styles","features","map","park","meter_number","long","url","scaledSize","google","maps","Size","geometry","coordinates","properties","NAME","DESCRIPTIO","MapWrapped","MapDisplay","textAlign","width","height","display","fontSize","radius","SearchPage","props","state","results","address","fromAddress","then","response","location","error","console","filter","Component","TitleBar","title","SearchBar","value","prevValue","handleChange","bind","handleSubmit","onSubmit","findResults","event","setState","target","preventDefault","TimeBar","Menu"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  withGoogleMap,\r\n  withScriptjs,\r\n  GoogleMap,\r\n  Marker,\r\n  InfoWindow\r\n} from \"react-google-maps\";\r\nimport * as parkData from \"./data/parking_meters.json\";\r\nimport mapStyles from \"./mapStyles\";\r\nimport Geocode from \"react-geocode\";\r\n\r\nconst API_KEY = 'AIzaSyCcq9sfKruEgeckm_yRwLmBdkOFCSQ3SLA';\r\nGeocode.setApiKey(API_KEY);\r\n\r\nfunction Map() {\r\n  const [selectedPark, setSelectedPark] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const listener = e => {\r\n      if (e.key === \"Escape\") {\r\n        setSelectedPark(null);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", listener);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", listener);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={10}\r\n      defaultCenter={{ lat: 39.961178, lng: -82.998795}}\r\n      defaultOptions={{ styles: mapStyles }}\r\n    >\r\n      {parkData.features.map(park => (\r\n        <Marker\r\n          key={park.meter_number}\r\n          position={{\r\n            lat: park.lat,\r\n            lng: park.long\r\n          }}\r\n          onClick={() => {\r\n            setSelectedPark(park);\r\n          }}\r\n          icon={{\r\n            url: `/parking_meter.svg`,\r\n            scaledSize: new window.google.maps.Size(40, 40)\r\n          }}\r\n        />\r\n      ))}\r\n\r\n      {selectedPark && (\r\n        <InfoWindow\r\n          onCloseClick={() => {\r\n            setSelectedPark(null);\r\n          }}\r\n          position={{\r\n            lat: selectedPark.geometry.coordinates[1],\r\n            lng: selectedPark.geometry.coordinates[0]\r\n          }}\r\n        >\r\n          <div>\r\n            <h2>{selectedPark.properties.NAME}</h2>\r\n            <p>{selectedPark.properties.DESCRIPTIO}</p>\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n    </GoogleMap>\r\n  );\r\n}\r\n\r\nconst MapWrapped = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function MapDisplay() {\r\n  return (\r\n    <div style={{ textAlign:\"center\" }}>\r\n    <div style={{ width: \"80vw\", height: \"80vh\", display:\"inline-block\" }}>\r\n      <MapWrapped\r\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${API_KEY}`}\r\n        //   ${process.env.REACT_APP_GOOGLE_KEY}\r\n        // `}\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `100%` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n      />\r\n    </div>\r\n    <div style={{ fontSize:\"xx-large\" }}>Honda SmartPark</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst radius = 6;\r\n\r\nexport class SearchPage extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n          results: []\r\n      };\r\n  }\r\n\r\n  findResults(address) {\r\n    coordinates = Geocode.fromAddress(address).then(\r\n      response => {\r\n        const {lat, lng} = response.results[0].geometry.location;\r\n        return {lat, lng}\r\n      },\r\n      error => {\r\n        console.error(error);\r\n      }\r\n    );\r\n    const results = parkData.features.filter(park => (park.lat - lat)**2 + (park.long - lng)**2 < radius**2);\r\n    this.state.results = results;    \r\n  }\r\n  \r\n  render() {\r\n      return (\r\n          <div>\r\n              <div>\r\n                  <TitleBar/>\r\n              </div>\r\n              <div>\r\n                  <SearchBar/>\r\n              </div>\r\n              <div>\r\n                <MapDisplay/>\r\n              </div>\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass TitleBar extends React.Component {\r\n  render() {\r\n      let title = \"Honda Smart Park\"\r\n      \r\n      return (\r\n          <div className = \"titleBar\">\r\n              <div className = \"title\">\r\n                  {title}\r\n              </div>\r\n              <div>\r\n                  <Menu/>\r\n              </div>\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass SearchBar extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        value: '',\r\n        prevValue: ''\r\n      };\r\n  \r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.onSubmit = this.props.findResults;\r\n  }\r\n\r\n  handleChange(event) {\r\n      this.setState({value: event.target.value});\r\n  }\r\n\r\n  handleSubmit(event) {\r\n      if (this.state.prevValue != this.state.value) {\r\n        this.onSubmit(this.state.value);\r\n        this.state.prevValue = this.state.value;\r\n      }\r\n      event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n      return (\r\n          <div>\r\n              <form onSubmit={this.handleSubmit}>\r\n                  <input type=\"text\"  value={this.state.value} onChange={this.handleChange} />\r\n              </form>\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\nclass TimeBar extends React.Component {\r\n\r\n}\r\n\r\nclass Menu extends React.Component {\r\n  render() {\r\n      return (\r\n          <div>\r\n              {\"Menu\"}\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}